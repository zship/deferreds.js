/*! deferreds.js v0.1.4 | MIT license */
module.exports=function(){var requirejs,require,define;return function(e){function l(e,t){var n,r,i,s,o,a,f,l,c,h,p=t&&t.split("/"),d=u.map,v=d&&d["*"]||{};if(e&&e.charAt(0)==="."&&t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(l=0;l<e.length;l+=1){h=e[l];if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))break;l>0&&(e.splice(l-1,2),l-=2)}}e=e.join("/")}if((p||v)&&d){n=e.split("/");for(l=n.length;l>0;l-=1){r=n.slice(0,l).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=l;break}}}if(s)break;!a&&v&&v[r]&&(a=v[r],f=l)}!s&&a&&(s=a,o=f),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function c(t,r){return function(){return n.apply(e,f.call(arguments,0).concat([t,r]))}}function h(e){return function(t){return l(t,e)}}function p(e){return function(t){s[e]=t}}function d(n){if(o.hasOwnProperty(n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!s.hasOwnProperty(n)&&!a.hasOwnProperty(n))throw new Error("No "+n);return s[n]}function v(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function m(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=[].slice;r=function(e,t){var n,r=v(e),i=r[0];return e=r[1],i&&(i=l(i,t),n=d(i)),i?n&&n.normalize?e=n.normalize(e,h(t)):e=l(e,t):(e=l(e,t),r=v(e),i=r[0],e=r[1],i&&(n=d(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return c(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:m(e)}}},t=function(t,n,u,f){var l,h,v,m,g,y=[],b;f=f||t;if(typeof u=="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(g=0;g<n.length;g+=1){m=r(n[g],f),h=m.f;if(h==="require")y[g]=i.require(t);else if(h==="exports")y[g]=i.exports(t),b=!0;else if(h==="module")l=y[g]=i.module(t);else if(s.hasOwnProperty(h)||o.hasOwnProperty(h)||a.hasOwnProperty(h))y[g]=d(h);else{if(!m.p)throw new Error(t+" missing "+h);m.p.load(m.n,c(f,!0),p(h),{}),y[g]=s[h]}}v=u.apply(s[t],y);if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(v!==e||!b)s[t]=v}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){return typeof s=="string"?i[s]?i[s](o):d(r(s,o).f):(s.splice||(u=s,o.splice?(s=o,o=a,a=null):s=e),o=o||function(){},typeof a=="function"&&(a=f,f=l),f?t(e,s,o,a):setTimeout(function(){t(e,s,o,a)},15),n)},n.config=function(e){return u=e,n},define=function(e,t,n){t.splice||(n=t,t=[]),o[e]=[e,t,n]},define.amd={jQuery:!0}}(),define("../../../grunt-amd-dist/tasks/lib/almond",function(){}),define("isDeferred",[],function(){var e=function(e){return e&&e.promise};return e}),define("forceNew",[],function(){var forceNew=function(ctor,args,displayName){var xtor;displayName?xtor=eval("1&&function "+displayName+"(){}"):xtor=function(){},xtor.prototype=ctor.prototype;var instance=new xtor;return xtor.prototype=null,ctor.apply(instance,args),instance};return forceNew}),define("mout/lang/kindOf",[],function(){function r(r){return r===null?"Null":r===n?"Undefined":e.exec(t.call(r))[1]}var e=/^\[object (.*)\]$/,t=Object.prototype.toString,n;return r}),define("mout/lang/isKind",["./kindOf"],function(e){function t(t,n){return e(t)===n}return t}),define("mout/lang/isArray",["./isKind"],function(e){var t=Array.isArray||function(t){return e(t,"Array")};return t}),define("mout/lang/toArray",["./kindOf"],function(e){function n(n){var r=[],i=e(n),s;if(n!=null)if(n.length==null||i==="String"||i==="Function"||i==="RegExp"||n===t)r[r.length]=n;else{s=n.length;while(s--)r[s]=n[s]}return r}var t=this;return n}),define("mout/function/bind",[],function(){function e(e,t){return Array.prototype.slice.call(e,t||0)}function t(t,n,r){var i=e(arguments,2);return function(){return t.apply(n,i.concat(e(arguments)))}}return t}),define("mout/object/hasOwn",[],function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}),define("mout/object/forIn",[],function(){function n(){t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=!0;for(var n in{toString:null})e=!1}function r(r,s,o){var u,a=0;e==null&&n();for(u in r)if(i(s,r,u,o)===!1)break;if(e)while(u=t[a++])if(r[u]!==Object.prototype[u]&&i(s,r,u,o)===!1)break}function i(e,t,n,r){return e.call(r,t[n],n,t)}var e,t;return r}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(e,t){function n(n,r,i){t(n,function(t,s){if(e(n,s))return r.call(i,n[s],s,n)})}return n}),define("mout/object/mixIn",["./forOwn"],function(e){function t(t,r){var i=0,s=arguments.length,o;while(++i<s)o=arguments[i],o!=null&&e(o,n,t);return t}function n(e,t){this[t]=e}return t}),define("isPromise",[],function(){var e=function(e){return e&&typeof e.then=="function"};return e}),define("Promise",["require","mout/object/mixIn"],function(e){var t=e("mout/object/mixIn"),n=function(e){this._deferred=e};return t(n.prototype,{state:function(){return this._deferred._state},then:function(){return this._deferred.then.apply(this._deferred,arguments),this},done:function(){return this._deferred.done.apply(this._deferred,arguments),this},fail:function(){return this._deferred.fail.apply(this._deferred,arguments),this},always:function(){return this._deferred.always.apply(this._deferred,arguments),this},progress:function(){return this._deferred.progress.apply(this._deferred,arguments),this},pipe:function(){return this._deferred.pipe.apply(this._deferred,arguments)}}),n}),define("Deferred",["require","./forceNew","mout/lang/isArray","mout/lang/toArray","mout/function/bind","mout/object/mixIn","./isDeferred","./isPromise","./Promise"],function(e){var t=e("./forceNew"),n=e("mout/lang/isArray"),r=e("mout/lang/toArray"),i=e("mout/function/bind"),s=e("mout/object/mixIn"),o=e("./isDeferred"),u=e("./isPromise"),a=e("./Promise"),f=function(e,t){if(!e)return;n(e)||(e=[e]);for(var r=0;r<e.length;r++)e[r].apply(null,t)},l=function(){if(!(this instanceof l))return t(l,arguments,"Deferred");this._state=l.State.PENDING,this._callbacks={done:[],fail:[],progress:[]},this._closingArguments=[],this._promise=new a(this)};return s(l.prototype,{promise:function(){return this._promise},state:function(){return this._state},resolve:function(){return this._state!==l.State.PENDING?this:(this._state=l.State.RESOLVED,f(this._callbacks.done,arguments),this._closingArguments=arguments,this)},reject:function(){return this._state!==l.State.PENDING?this:(this._state=l.State.REJECTED,f(this._callbacks.fail,arguments),this._closingArguments=arguments,this)},notify:function(){return this._state!==l.State.PENDING?this:(f(this._callbacks.progress,arguments),this)},then:function(e,t,n){return this._state===l.State.RESOLVED?(f(e,this._closingArguments),this):this._state===l.State.REJECTED?(f(t,this._closingArguments),this):(e&&this._callbacks.done.push(e),t&&this._callbacks.fail.push(t),n&&this._callbacks.progress.push(n),this)},done:function(e){return this.then(e)},fail:function(e){return this.then(undefined,e)},always:function(e){return this.then(e,e)},progress:function(e){return this.then(undefined,undefined,e)},pipe:function(e){var t=new l;return this.fail(i(t.reject,t)).done(function(){var n=r(arguments),s=function(){var t=e.apply(e,n);return o(t)||u(t)?t:(new l).resolve(t).promise()}();s.fail(i(t.reject,t)).done(i(t.resolve,t)).progress(i(t.notify,t))}).progress(i(t.notify,t)),t.promise()}}),l.State={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},l}),define("mout/lang/isObject",["./isKind"],function(e){function t(t){return e(t,"Object")}return t}),define("mout/object/values",["./forOwn"],function(e){function t(t){var n=[];return e(t,function(e,t){n.push(e)}),n}return t}),define("mout/array/forEach",[],function(){function e(e,t,n){if(e==null)return;var r=-1,i=e.length;while(++r<i)if(t.call(n,e[r],r,e)===!1)break}return e}),define("mout/array/map",["./forEach"],function(e){function t(t,n,r){var i=[];return t==null?i:(e(t,function(e,t,s){i[t]=n.call(r,e,t,s)}),i)}return t}),define("mout/collection/map",["../lang/isObject","../object/values","../array/map"],function(e,t,n){function r(r,i,s){return e(r)&&r.length==null&&(r=t(r)),n(r,function(e,t,n){return i.call(s,e,t,n)})}return r}),define("mout/collection/make_",[],function(){function e(e,t,n){return function(){var r=Array.prototype.slice.call(arguments);return r[0]==null?n:typeof r[0].length=="number"?e.apply(null,r):t.apply(null,r)}}return e}),define("mout/collection/forEach",["./make_","../array/forEach","../object/forOwn"],function(e,t,n){return e(t,n)}),define("mout/object/size",["./forOwn"],function(e){function t(t){var n=0;return e(t,function(){n++}),n}return t}),define("mout/collection/size",["../lang/isArray","../object/size"],function(e,t){function n(n){return n?e(n)?n.length:t(n):0}return n}),define("mout/lang/isFunction",["./isKind"],function(e){function t(t){return e(t,"Function")}return t}),define("anyToDeferred",["require","./Deferred","mout/lang/isFunction","./isDeferred","./isPromise"],function(e){var t=e("./Deferred"),n=e("mout/lang/isFunction"),r=e("./isDeferred"),i=e("./isPromise"),s=function(e){var s=Array.prototype.slice.call(arguments,1);if(r(e)||i(e))return e;if(n(e)){var o=e.apply(e,s);return r(o)||i(o)?o:t().resolve(o).promise()}return t().resolve(e).promise()};return s}),define("forEach",["require","./Deferred","mout/collection/forEach","mout/collection/size","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/forEach"),r=e("mout/collection/size"),i=e("./anyToDeferred"),s=function(e,s){var o=new t;if(!r(e))return o.resolve(),o.promise();var u=0;return n(e,function(t,n){i(s(t,n,e)).then(function(){u++,u===r(e)&&o.resolve()},function(){o.reject.apply(o,arguments)})}),o.promise()};return s}),define("map",["require","./Deferred","mout/collection/map","./forEach","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/map"),r=e("./forEach"),i=e("./anyToDeferred"),s=function(e,s){var o=new t,u=[];return e=n(e,function(e,t){return{index:t,value:e}}),r(e,function(t){return i(s(t.value,t.index,e)).then(function(e){u[t.index]=e})}).then(function(){o.resolve(u)},function(){o.reject.apply(o,arguments)}),o.promise()};return s}),define("find",["require","./Deferred","./forEach","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./forEach"),r=e("./anyToDeferred"),i=function(e,i){var s=new t;return n(e,function(t,n){return r(i(t,n,e)).then(function(e){e&&s.resolve(t)})}).then(function(){s.resolve(undefined)},function(){s.reject.apply(s,arguments)}),s.promise()};return i}),define("mout/object/keys",["./forOwn"],function(e){var t=Object.keys||function(t){var n=[];return e(t,function(e,t){n.push(t)}),n};return t}),define("forEachSeries",["require","./Deferred","mout/lang/isArray","mout/collection/size","mout/object/keys","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/lang/isArray"),r=e("mout/collection/size"),i=e("mout/object/keys"),s=e("./anyToDeferred"),o=function(e,o){var u=new t;if(!r(e))return u.resolve(),u.promise();var a=0,f;n(e)||(f=i(e));var l=function(){var t,i;n(e)?(i=a,t=e[i]):(i=f[a],t=e[i]),s(o(t,i)).then(function(){a+=1,a===r(e)?u.resolve():l()},function(){u.reject.apply(u,arguments)})};return l(),u.promise()};return o}),define("reduce",["require","./Deferred","./forEachSeries","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./forEachSeries"),r=e("./anyToDeferred"),i=function(e,i,s){var o=new t;return n(e,function(t,n){return r(i(s,t,n,e)).then(function(e){s=e})}).then(function(){o.resolve(s)},function(){o.reject.apply(o,arguments)}),o.promise()};return i}),define("mout/collection/pluck",["./map"],function(e){function t(t,n){return e(t,function(e){return e[n]})}return t}),define("reduceRight",["require","./reduce","mout/collection/map","mout/collection/pluck"],function(e){var t=e("./reduce"),n=e("mout/collection/map"),r=e("mout/collection/pluck"),i=function(e,i,s){var o=n(e,function(e,t){return{index:t,value:e}}).reverse();return o=r(o,"value"),t(o,i,s)};return i}),define("sortBy",["require","./Deferred","./map","mout/collection/pluck","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./map"),r=e("mout/collection/pluck"),i=e("./anyToDeferred"),s=function(e,s){var o=new t;return n(e,function(n,r){var o=new t;return i(s(n,r,e)).then(function(e){o.resolve({index:r,value:n,criteria:e})}),o.promise()}).then(function(e){e=e.sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===undefined)return 1;if(n<r||r===undefined)return-1}return e.index<t.index?-1:1}),e=r(e,"value"),o.resolve(e)},function(){o.reject.apply(o,arguments)}),o.promise()};return s}),define("every",["require","./Deferred","./forEach","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./forEach"),r=e("./anyToDeferred"),i=function(e,i){var s=new t;return n(e,function(e,t,n){return r(i(e,t,n)).then(function(e){e!==!0&&s.resolve(!1)})}).then(function(){s.resolve(!0)},function(){s.reject.apply(s,arguments)}),s.promise()};return i}),define("filter",["require","./Deferred","mout/collection/map","mout/collection/pluck","./forEach","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/map"),r=e("mout/collection/pluck"),i=e("./forEach"),s=e("./anyToDeferred"),o=function(e,o){var u=new t,a=[];return e=n(e,function(e,t){return{index:t,value:e}}),i(e,function(t){return s(o(t.value,t.index,e)).then(function(e){e===!0&&a.push(t)})}).then(function(){a=a.sort(function(e,t){return e.index-t.index}),a=r(a,"value"),u.resolve(a)},function(){u.reject.apply(u,arguments)}),u.promise()};return o}),define("filterSeries",["require","./Deferred","mout/collection/map","mout/collection/pluck","./forEachSeries","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/map"),r=e("mout/collection/pluck"),i=e("./forEachSeries"),s=e("./anyToDeferred"),o=function(e,o){var u=new t,a=[];return e=n(e,function(e,t){return{index:t,value:e}}),i(e,function(t){return s(o(t.value,t.index,e)).then(function(e){e===!0&&a.push(t)})}).then(function(){a=a.sort(function(e,t){return e.index-t.index}),a=r(a,"value"),u.resolve(a)},function(){u.reject.apply(u,arguments)}),u.promise()};return o}),define("findSeries",["require","./Deferred","./forEachSeries","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./forEachSeries"),r=e("./anyToDeferred"),i=function(e,i){var s=new t;return n(e,function(t,n){return r(i(t,n,e)).then(function(e){e&&s.resolve(t)})}).then(function(){s.resolve(undefined)},function(){s.reject.apply(s,arguments)}),s.promise()};return i}),define("mapSeries",["require","./Deferred","mout/collection/map","./forEachSeries","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/map"),r=e("./forEachSeries"),i=e("./anyToDeferred"),s=function(e,s){var o=new t,u=[];return e=n(e,function(e,t){return{index:t,value:e}}),r(e,function(t){return i(s(t.value,t.index,e)).then(function(e){u[t.index]=e},function(e){u[t.index]=e})}).then(function(){o.resolve(u)},function(){o.reject.apply(o,arguments)}),o.promise()};return s}),define("parallel",["require","./Deferred","mout/lang/isArray","mout/lang/toArray","./anyToDeferred","./forEach","./map"],function(e){var t=e("./Deferred"),n=e("mout/lang/isArray"),r=e("mout/lang/toArray"),i=e("./anyToDeferred"),s=e("./forEach"),o=e("./map"),u=function(e){var u=new t,a=!1;arguments.length>1&&(a=!0,e=r(arguments));if(n(e))o(e,function(e){return i(e)}).then(function(e){a?u.resolve.apply(u,e):u.resolve(e)},function(){u.reject.apply(u,arguments)});else{var f={};s(e,function(e,t){var n=i(e);return n.then(function(e){f[t]=e})}).then(function(){u.resolve(f)},function(){u.reject.apply(u,arguments)})}return u.promise()};return u}),define("mout/function/partial",[],function(){function e(e,t){return Array.prototype.slice.call(e,t||0)}function t(t,n){var r=e(arguments,1);return function(){return t.apply(this,r.concat(e(arguments)))}}return t}),define("pipe",["require","./Deferred","mout/lang/isArray","mout/lang/toArray","mout/function/partial","./anyToDeferred","mout/object/keys","mout/collection/size"],function(e){var t=e("./Deferred"),n=e("mout/lang/isArray"),r=e("mout/lang/toArray"),i=e("mout/function/partial"),s=e("./anyToDeferred"),o=e("mout/object/keys"),u=e("mout/collection/size"),a=function(e){var a=new t;arguments.length>1&&(e=r(arguments));if(!u(e))return a.reject(),a;var f=0,l;n(e)||(l=o(e));var c=function(){var t,o;n(e)?(o=f,t=e[o]):(o=l[f],t=e[o]);var h=r(arguments);h.unshift(t),s(i.apply(t,h)).then(function(){f+=1,f===u(e)?a.resolve.apply(a,arguments):c.apply(a,arguments)},function(){a.reject.apply(a,arguments)})};return c(),a.promise()};return a}),define("reject",["require","./Deferred","mout/collection/map","mout/collection/pluck","./forEach","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/map"),r=e("mout/collection/pluck"),i=e("./forEach"),s=e("./anyToDeferred"),o=function(e,o){var u=new t,a=[];return e=n(e,function(e,t){return{index:t,value:e}}),i(e,function(t){return s(o(t.value,t.index,e)).then(function(e){e||a.push(t)})}).then(function(){a=a.sort(function(e,t){return e.index-t.index}),a=r(a,"value"),u.resolve(a)},function(){u.reject.apply(u,arguments)}),u.promise()};return o}),define("rejectSeries",["require","./Deferred","mout/collection/map","mout/collection/pluck","./forEachSeries","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("mout/collection/map"),r=e("mout/collection/pluck"),i=e("./forEachSeries"),s=e("./anyToDeferred"),o=function(e,o){var u=new t,a=[];return e=n(e,function(e,t){return{index:t,value:e}}),i(e,function(e){return s(o(e.value,e.index)).then(function(t){t||a.push(e)})}).then(function(){a=a.sort(function(e,t){return e.index-t.index}),a=r(a,"value"),u.resolve(a)},function(){u.reject.apply(u,arguments)}),u.promise()};return o}),define("series",["require","./Deferred","mout/lang/isArray","mout/lang/toArray","./anyToDeferred","./forEachSeries","./mapSeries"],function(e){var t=e("./Deferred"),n=e("mout/lang/isArray"),r=e("mout/lang/toArray"),i=e("./anyToDeferred"),s=e("./forEachSeries"),o=e("./mapSeries"),u=function(e){var u=new t,a=!1;arguments.length>1&&(a=!0,e=r(arguments));if(n(e))o(e,function(e){return i(e)}).then(function(e){a?u.resolve.apply(u,e):u.resolve(e)},function(){u.reject.apply(u,arguments)});else{var f={};s(e,function(e,t){var n=i(e);return n.then(function(e){f[t]=e})}).then(function(){u.resolve(f)},function(){u.reject.apply(u,arguments)})}return u.promise()};return u}),define("some",["require","./Deferred","./forEach","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./forEach"),r=e("./anyToDeferred"),i=function(e,i){var s=new t;return n(e,function(t,n){return r(i(t,n,e)).then(function(e){e&&s.resolve(!0)})}).then(function(){s.resolve(!1)},function(){s.reject.apply(s,arguments)}),s.promise()};return i}),define("until",["require","./Deferred","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./anyToDeferred"),r=function(e,r){var i=new t,s=function(e,t){n(e()).then(function(n){n?i.resolve():o(e,t)},function(){i.reject.apply(i,arguments)})},o=function(e,t){n(t()).then(function(){s(e,t)},function(){i.reject.apply(i,arguments)})};return s(e,r),i.promise()};return r}),define("whilst",["require","./Deferred","./anyToDeferred"],function(e){var t=e("./Deferred"),n=e("./anyToDeferred"),r=function(e,r){var i=new t,s=function(e,t){n(e()).then(function(n){n?o(e,t):i.resolve()},function(){i.reject.apply(i,arguments)})},o=function(e,t){n(t()).then(function(){s(e,t)},function(){i.reject.apply(i,arguments)})};return s(e,r),i.promise()};return r}),define("Deferreds",["require","./anyToDeferred","./every","./filter","./filterSeries","./find","./findSeries","./forceNew","./forEach","./forEachSeries","./isDeferred","./isPromise","./map","./mapSeries","./parallel","./pipe","./reduce","./reduceRight","./reject","./rejectSeries","./series","./some","./sortBy","./until","./whilst"],function(e){var t={anyToDeferred:e("./anyToDeferred"),every:e("./every"),filter:e("./filter"),filterSeries:e("./filterSeries"),find:e("./find"),findSeries:e("./findSeries"),forceNew:e("./forceNew"),forEach:e("./forEach"),forEachSeries:e("./forEachSeries"),isDeferred:e("./isDeferred"),isPromise:e("./isPromise"),map:e("./map"),mapSeries:e("./mapSeries"),parallel:e("./parallel"),pipe:e("./pipe"),reduce:e("./reduce"),reduceRight:e("./reduceRight"),reject:e("./reject"),rejectSeries:e("./rejectSeries"),series:e("./series"),some:e("./some"),sortBy:e("./sortBy"),until:e("./until"),whilst:e("./whilst")};return t}),define("Chainable",["require","./forceNew","./anyToDeferred","./Deferred","./Promise","./Deferreds","mout/array/forEach","mout/lang/toArray","mout/function/bind","mout/object/keys"],function(e){var t=e("./forceNew"),n=e("./anyToDeferred"),r=e("./Deferred"),i=e("./Promise"),s=e("./Deferreds"),o=e("mout/array/forEach"),u=e("mout/lang/toArray"),a=e("mout/function/bind"),f=e("mout/object/keys"),l=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},c=function(e){if(!(this instanceof c))return t(c,arguments,"Chainable");this._state=r.State.PENDING,this._callbacks={done:[],fail:[],progress:[]},this._closingArguments=[],this._promise=new i(this);if(arguments.length===1&&e===undefined)return this;n(e).then(a(function(){arguments.length?this.resolve.apply(this,arguments):this.resolve()},this))};l(c,r),c.prototype.pipe=function(e){var t=new c(undefined);return r.prototype.pipe.call(this,e).then(function(){t.resolve.apply(t,arguments)}),t};var h=f(s).filter(function(e){return e!=="pipe"});return o(h,function(e){c.prototype[e]=function(){var t=u(arguments);return this.pipe(function(n){return n!==undefined&&t.unshift(n),s[e].apply(undefined,t)})}}),s.chain=c,c}),{isDeferred:require("isDeferred"),forceNew:require("forceNew"),"mout/lang/kindOf":require("mout/lang/kindOf"),"mout/lang/isKind":require("mout/lang/isKind"),"mout/lang/isArray":require("mout/lang/isArray"),"mout/lang/toArray":require("mout/lang/toArray"),"mout/function/bind":require("mout/function/bind"),"mout/object/hasOwn":require("mout/object/hasOwn"),"mout/object/forIn":require("mout/object/forIn"),"mout/object/forOwn":require("mout/object/forOwn"),"mout/object/mixIn":require("mout/object/mixIn"),isPromise:require("isPromise"),Promise:require("Promise"),Deferred:require("Deferred"),"mout/lang/isObject":require("mout/lang/isObject"),"mout/object/values":require("mout/object/values"),"mout/array/forEach":require("mout/array/forEach"),"mout/array/map":require("mout/array/map"),"mout/collection/map":require("mout/collection/map"),"mout/collection/make_":require("mout/collection/make_"),"mout/collection/forEach":require("mout/collection/forEach"),"mout/object/size":require("mout/object/size"),"mout/collection/size":require("mout/collection/size"),"mout/lang/isFunction":require("mout/lang/isFunction"),anyToDeferred:require("anyToDeferred"),forEach:require("forEach"),map:require("map"),find:require("find"),"mout/object/keys":require("mout/object/keys"),forEachSeries:require("forEachSeries"),reduce:require("reduce"),"mout/collection/pluck":require("mout/collection/pluck"),reduceRight:require("reduceRight"),sortBy:require("sortBy"),every:require("every"),filter:require("filter"),filterSeries:require("filterSeries"),findSeries:require("findSeries"),mapSeries:require("mapSeries"),parallel:require("parallel"),"mout/function/partial":require("mout/function/partial"),pipe:require("pipe"),reject:require("reject"),rejectSeries:require("rejectSeries"),series:require("series"),some:require("some"),until:require("until"),whilst:require("whilst"),Deferreds:require("Deferreds"),Chainable:require("Chainable")}}();